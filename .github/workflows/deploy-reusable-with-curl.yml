name: Deploy Infrastructure With Curl

on:
  workflow_call:
    inputs:
      environment:
        required: true
        type: string
    secrets:
      KOMODO_API_URL:
        required: true
      KOMODO_API_KEY:
        required: true

env:
  ENVIRONMENT: ${{ inputs.environment }}

jobs:
  validate:
    name: Validate Configuration
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
      
      - name: Setup API helpers
        run: |
          echo "Setting up API helpers..."
          
          api_call() {
            echo "API call function with curl"
            echo "URL: $KOMODO_API_URL"
            echo "Key: $KOMODO_API_KEY"
          }
          
          api_call
          echo "âœ… API helpers configured"
        env:
          KOMODO_API_URL: ${{ secrets.KOMODO_API_URL }}
          KOMODO_API_KEY: ${{ secrets.KOMODO_API_KEY }}
